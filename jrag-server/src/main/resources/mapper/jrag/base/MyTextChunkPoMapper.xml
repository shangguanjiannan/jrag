<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.github.jerryt92.jrag.mapper.MyTextChunkPoMapper">
  <select id="selectByExampleWithBLOBsWithSearch" parameterType="io.github.jerryt92.jrag.po.mgb.TextChunkPoExample" resultMap="io.github.jerryt92.jrag.mapper.mgb.TextChunkPoMapper.ResultMapWithBLOBs">
      <!--
        WARNING - @mbg.generated
        This element is automatically generated by MyBatis Generator, do not modify.
      -->
      select
      <include refid="io.github.jerryt92.jrag.mapper.MyMapper.My_Example_Distinct"/>
      <include refid="io.github.jerryt92.jrag.mapper.mgb.TextChunkPoMapper.Base_Column_List"/>
      ,
      <include refid="io.github.jerryt92.jrag.mapper.mgb.TextChunkPoMapper.Blob_Column_List"/>
      from text_chunk
      <include refid="io.github.jerryt92.jrag.mapper.MyMapper.My_Example_Where_Clause"/>
      <if test="search != null">
          <bind name="searchLike" value="'%' + search + '%'"/>
          and (
          text_chunk like #{searchLike} or
          exists (
          select 1
          from embeddings_item
          where text_chunk_id = text_chunk.id and text like #{searchLike}
          )
          )
      </if>
      <include refid="io.github.jerryt92.jrag.mapper.MyMapper.My_Example_Order_By_And_Limit"/>
  </select>
</mapper>